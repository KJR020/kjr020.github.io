# Harness Engineering 記事: 執筆プロセスログ

**記事**: `content/posts/LLM/harness-engineering.md`
**パターン**: Introduction / 紹介系
**ターゲット**: AIエージェントを活用した開発に興味があるエンジニア
**執筆日**: 2026-02-27
**タグ**: #introduction #external-article #revision #new-rule

## 意思決定ログ

### パターン選定

- Introduction（紹介系）パターンを選択
- 理由: OpenAI の記事と Böckeler の解説を読んで「Harness Engineering とは何か」を整理する読書メモであり、新しい概念の紹介が主目的
- 純粋な Tutorial でも Lessons Learned でもなく、概念の導入と所感の組み合わせ

### 構成の決定

- **原典 + 解説記事の2ソース構成**: OpenAI 記事（原典）と Böckeler 記事（解説）を明確に区別して扱う
- **Böckeler の3カテゴリ枠組みを採用**: Context Engineering / Architectural Constraints / Garbage Collection の3分類で記事内容を整理
- **「読んでみて」セクションで所感をまとめる**: 紹介セクションと感想セクションを分離する構成
- **です/ます体**: 個人ブログの読書メモとして親しみやすいトーンを選択

### タイトルの変遷

1. `Harness Engineeringについてまとめた` — 初稿タイトル
2. `OpenAIが実践するAgent-First時代の設計思想 — Harness Engineering` — 記事内容をより正確に表現するため変更。ユーザーが3択（A: 概念と実践, B: 設計思想, C: 制約設計アプローチ）から B を選択
3. `OpenAIが実践するAgent-First時代の開発アプローチ — Harness Engineering` — 「設計思想」は記事の内容に対してやや大きすぎる表現。4択（開発アプローチ, エンジニアリング手法, 開発プラクティス, 設計原則）から「開発アプローチ」を選択

## 修正履歴

### Phase 1: 初稿の執筆と推敲（セッション1）

write-blog スキル + write-opinion スキルで構成・執筆を支援。

| 修正内容 | 理由 | 影響範囲 |
|----------|------|----------|
| 孤立した引用5件を削除（"Give a map..."、観測可能性2件、"enforced mechanically..."、"golden principles..." + "garbage collection"） | 前後の文とつながりがなく、ただ挿入されているだけだった。前後の文で既に伝わっている内容の重複もあった | 各セクション全体 |
| 固定レイヤーモデルをテキスト表現から Mermaid 図に変更 | テキストの `→` だけでは依存方向の意味が伝わりにくい。図解で直感的に理解できるようにする | Architectural Constraints セクション |
| 「その具体例として」の接続文を追加 | 「機械的に強制する」という抽象的な説明からいきなりレイヤーモデルの具体例に飛んでいた | Architectural Constraints セクション |
| 「一方で、記事を読んでいて気になったのは」のフリを追加 | Böckeler のテスト検証への指摘に話題転換する際、唐突だった | 読んでみてセクション |
| 「ループできるようになります」→「〜とのことです」に変更 | 自分が検証していない外部の主張に伝聞表現を使う | Context Engineering セクション |
| 「制約がスピードを生む」コメントを Architectural Constraints → 読んでみてに移動 | 紹介セクション内の個人的感想。事実と感想を分離する | Architectural Constraints / 読んでみて |

### Phase 2: NotebookLM ファクトチェック + 改訂（セッション2）

NotebookLM に記事と原典を読み込ませてファクトチェック。5つのイシューが検出された。

| # | イシュー | 対応内容 | 影響範囲 |
|---|---------|---------|----------|
| 1 | 解説記事の著者誤認 | Fowler → Böckeler氏 に帰属を修正（description、冒頭、定義セクション、3カテゴリセクション、読んでみてセクション） | 記事全体（4箇所以上） |
| 2 | 3カテゴリ分類の提唱者 | 「Fowlerはこれらを〜」→「Böckeler氏はこれらを〜」に修正 | 記事で紹介されていた原則セクション |
| 3 | テスト検証不足指摘の主語 | 「Martin Fowler も同様の点を指摘」→「Böckeler氏も解説記事内で同様の点を指摘」 | 読んでみてセクション |
| 4 | Context Engineering セクションへの図版追加 | OpenAI ブログから2点の図版を引用追加（Codex Agent Testing Feedback フロー図、Observability Telemetry Workflow 図）。図版の解説文も追記 | Context Engineering セクション |
| 5 | Hashimoto の具体的アクション補足 | `AGENTS.md` にルールを追記する例やスクリプトによる自動検証ツール作成の例を追記 | Harness Engineering とは セクション |

### Phase 3: 構造改善・技術対応（セッション2）

| 修正内容 | 理由 | 影響範囲 |
|----------|------|----------|
| 「記事で語られなかった部分」を独立セクションとして分離 | 元は「読んでみて」内に埋もれていた。Böckeler の批評として独立した論点であり、セクション分離で明確化 | 読んでみて → 新セクション |
| Böckeler/Fowler 両名の反応を末尾に追記 | Bret Taylor の X 投稿、Fowler の LinkedIn 言及、Böckeler 解説記事の公開という反響を記録 | 読んでみてセクション末尾 |
| 脚注ラベルを番号から日本語に変更 | `[^1]` → `[^victoria]` 等、脚注の参照先が番号だけだと何の脚注か分かりにくい | 脚注全体 |
| 画像をレスポンシブ対応（CSS追加） | `.prose img` に `max-width: 100%; height: auto` を設定。大きい図版がはみ出す問題を解消 | `src/pages/posts/[...slug].astro` のグローバルスタイル |
| 画像キャプションに出典リンクを追加 | 引用画像の出典を明示するため、キャプションにリンクを記載 | Context Engineering セクションの図版 |

### Phase 4: タイトル改訂（セッション2-3）

| 修正内容 | 理由 | 影響範囲 |
|----------|------|----------|
| タイトルを「〜についてまとめた」→「〜設計思想」に変更 | 記事の内容をより正確に表す。読者の関心を引くタイトルにする | frontmatter title、description |
| タイトルの「設計思想」→「開発アプローチ」に変更 | 「設計思想」は記事内容に対してやや大きい表現。実践的なプラクティスの紹介記事として「開発アプローチ」がより適切 | frontmatter title |

## Zenn クロスポスト

- **公開先**: `~/work/github.com/KJR020/writing-repository/articles/harness-engineering.md`
- **slug**: `harness-engineering`
- **変換ツール**: `write-zenn-sync` スキルの `sync_to_zenn.py` で自動変換後、エージェントが emoji/type/topics を調整
- **変換内容**:
  - TOML frontmatter (`+++`) → YAML frontmatter (`---`)
  - `draft: false` → `published: true`
  - `tags` → `topics`（先頭5件）
  - 画像パスを `/images/posts/harness-engineering/` → `/images/` に書き換え、画像ファイルをコピー
  - Callout 記法（`> [!note]`）→ `:::message` に変換
- **副産物**: この作業を通じて `write-zenn-sync` スキルを新規作成（scripts/sync_to_zenn.py + references/zenn-spec.md + SKILL.md）

## コミット履歴

| コミット | 日時 | 内容 |
|---------|------|------|
| `801d126` | 2026-02-27 00:26 | 📝 Harness Engineeringに関する記事を追加（初稿） |
| `5a513e2` | 2026-02-27 22:46 | 📝 Harness Engineering記事を全面改訂（Issue 1-5 対応、構造改善） |
| `cdbf5a6` | 2026-02-27 22:46 | 🖼️ Harness Engineering記事用の図版を追加（2枚の JPEG） |
| `06ba4af` | 2026-02-27 22:49 | ✏️ タイトルの「設計思想」を「開発アプローチ」に修正 |

## ツール・プロセス

| ツール | 用途 |
|--------|------|
| write-blog-structure | 記事構成パターンの選定 |
| write-blog | Introduction パターンに基づく執筆支援 |
| write-opinion | 「読んでみて」セクションの構造化 |
| blog-evaluate | 5軸評価（防御力/思考整理力/実践応用性/構成/コミュニケーション力） |
| NotebookLM | 原典と記事を読み込ませてファクトチェック。5つのイシューを検出 |
| write-zenn-sync | Zenn への変換・同期（この記事をきっかけにスキル自体を新規作成） |

## 抽出ルール

- **引用の設計**: 主張→根拠の順序、重複引用の削除、孤立引用の禁止
  - 反映先: SKILL.md 執筆原則
  - 反映済み: Yes

- **事実と感想の分離**: 紹介セクションは事実に徹し、感想は専用セクションにまとめる
  - 反映先: SKILL.md 執筆原則
  - 反映済み: Yes

- **論理の接続**: トピック転換にはフリを入れる、抽象→具体の橋渡しを一文で
  - 反映先: SKILL.md 執筆原則
  - 反映済み: Yes

- **出典と帰属**: 誰の主張かを明示、伝聞表現、二次情報と原典の区別
  - 反映先: SKILL.md 執筆原則
  - 反映済み: Yes

- **帰属の事前確認**: 外部記事を引用する際、掲載サイトと著者を混同しないよう、記事冒頭で著者名を確認する
  - 反映先: references/introduction.md チェックリストへの追加を検討
  - 反映済み: No

- **脚注のエビデンスリンク**: 脚注で補足する用語・概念には公式サイト等のリンクを付け、読者が自分で確認できるようにする
  - 反映先: SKILL.md 出典と帰属
  - 反映済み: Yes

- **図版引用時の出典明記**: 外部ブログの図版を引用する場合、キャプションに出典元のリンクを記載する
  - 反映先: SKILL.md 執筆原則への追加を検討
  - 反映済み: No

## 学び・振り返り

- **NotebookLM のファクトチェックが有効**: 記事と原典を読み込ませることで、人間が見落としがちな帰属ミスを検出できた。特に「サイト名と著者名の混同」は自分では気づきにくい
- **紹介記事で多い間違い**: 掲載プラットフォームのオーナー（Fowler）と実際の著者（Böckeler）を混同するパターン。今後は記事冒頭で著者名を確認する習慣をつける
- **タイトルは後から変えやすい**: 初稿段階では仮タイトルで進め、内容が固まってからタイトルを練る方が効率的。実際に3回変更した
- **Zenn 同期の定型作業をスキル化**: 手動同期の経験から「決定論的処理はスクリプト、判断はエージェント」という分担でスキル化できた。繰り返し作業は早めにスキル化する価値がある